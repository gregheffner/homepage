<!doctype html>
<html>

<head>
	<script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="6a06e0ff-3af4-42b9-ab66-dd32f9e600e0"
		data-blockingmode="auto" type="text/javascript"></script>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-SXLQTMF14Q"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-SXLQTMF14Q');
	</script>
	<!-- Google Tag Manager -->
	<script type="915998925114be6a38098363-text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-MQMRMNL5');</script>
	<!-- End Google Tag Manager -->

	<link rel="apple-touch-icon" sizes="180x180" href="/image/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/image/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/image/favicon-16x16.png">
	<link rel="manifest" href="/image/site.webmanifest">

	<style>
		* {
			box-sizing: border-box;
		}

		body {
			font-family: 'trebuchet ms', sans-serif;
			padding: 20px;
			background: #4E90BB;
		}

		.header {
			padding: 10px;
			font-size: 20px;
			text-align: center;
			background: white;
		}

		.leftcolumn {
			float: left;
			width: 75%;
			height: 90vh;
			overflow-y: visable;
		}

		.rightcolumn {
			float: left;
			width: 25%;
			padding-left: 20px;
		}

		.img {

			width: 100%;
			padding: 20px;
		}

		.card {
			background-color: white;
			padding: 20px;
			margin-top: 20px;
		}

		.row:after {
			content: "";
			display: table;
			clear: both;
		}

		.footer {
			padding: 20px;
			text-align: center;
			background: #ddd;
			margin-top: 20px;
		}

		@media screen and (max-width: 800px) {

			.leftcolumn,
			.rightcolumn {
				width: 100%;
				padding: 0;
			}
		}

		.navbar {
			display: flex;
			justify-content: flex-end;
			width: 100%;
			background-color: black !important;
			font-family: 'trebuchet ms', sans-serif;
			padding-right: 15px;
			padding-left: 15px;
		}

		.navdiv {
			display: flex;
			align-items: center;
			justify-content: space-between;
		}

		.navbar button {
			background-color: transparent;
			margin-left: 10px;
			border-radius: 10px;
			padding: 10px;
			width: 90px;
		}

		.navbar button a {
			color: transparent;
			font-weight: bold;
			font-size: 15px;
		}

		.navbar li {
			list-style: none;
			display: inline-block;
		}

		.navbar li a {
			color: white;
			font-size: 18px;
			font-weight: bold;
			margin-right: 25px;
			font-family: 'trebuchet ms', sans-serif;
		}

		.navbar button {
			background-color: black;
			margin-left: 10px;
			border-radius: 10px;
			padding: 10px;
			width: 90px;
		}

		.navbar button a {
			color: white;
			font-weight: bold;
			font-size: 15px;
			font-family: 'trebuchet ms', sans-serif;
		}

		.scrollcard {
			height: 200px;
			overflow: hidden;
			position: relative;
			background-color: white;
			padding: 20px;
			margin-top: 20px;
		}

		.scroll-container {
			height: calc(100% - 40px);
			overflow: hidden;
			position: relative;
		}

		.scroll-container nav {
			position: absolute;
			top: 0;
			width: 100%;
			animation: scroll 20s linear infinite;
		}

		@keyframes scroll {
			0% {
				top: 100%;
			}

			100% {
				top: -100%;
			}
		}
	</style>

	<meta name="title" content="Nerdsense - Smoke Tests - Sept 2024">
	<meta name="description" content="The Production Combine">
	<meta name="keywords" content="lens, performance, testing, k8s, locust">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="language" content="English">
	<meta http-equiv='content-language' content='en-gb'>
	<meta name="author" content="Greg Heffner">

	<title>Nerdsense - Smoke Tests - Sept 2024</title>

	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3941951641805897"
		crossorigin="anonymous"></script>

	<script async src="https://fundingchoicesmessages.google.com/i/pub-3941951641805897?ers=1"
		nonce="drPCtL_hPnvLGFPUGtHsFQ" type="915998925114be6a38098363-text/javascript"></script>
	<script nonce="drPCtL_hPnvLGFPUGtHsFQ" type="915998925114be6a38098363-text/javascript"> (function() {
              function signalGooglefcPresent() {
                  if (!window.frames['googlefcPresent']) {
                      if (document.body) {
                          const iframe = document.createElement('iframe');
                          iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;';
                          iframe.style.display = 'none';
                          iframe.name = 'googlefcPresent';
                          document.body.appendChild(iframe);
                      } else {
                          setTimeout(signalGooglefcPresent, 0);
                      }
                  }
              }
              signalGooglefcPresent();
          })();  
          </script>
</head>

<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQMRMNL5" height="0" width="0"
			style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	<nav class="navbar">
		<div class="navdiv">
			<ul>
				<li><a href="https://greg.heffner.live">Home</a></li>
				<li><a href="https://greg.heffner.live/photos.html">Photos</a></li>
				<li><a href="https://greg.heffner.live/blog.html">Blog</a></li>
				<li><a
						href="https://www.paypal.com/donate/?business=UK9DCMKFRTWRN&no_recurring=0&item_name=Thanks+for+supporting+the+page&currency_code=USD">Support</a>
				<li><a href="https://greg.heffner.live/privacy.html">Privacy Policy</a></li>
				<li><a href="https://greg.heffner.live/cookie.html">Cookie Policy</a></li>
				
				<li><a href="/cdn-cgi/l/email-protection#c1aca0a8afefb1ada0aff4f6f9f281a7a0b2b5aca0a8adefa2aeac">Contact</a>
				<li><a href="https://greg.heffner.live/forum.html">Open Forum</a></li>
			</ul>
		</div>
	</nav>
	<div class="header">
		<h2>Nerdsense</h2>
	</div>
	<div class="row">
		<div class="leftcolumn">
			<div class="card">
				<h1>Smoke Tests: The Production Combine</h1>
				<h5>Greg Heffner September 11, 2024</h5>
					
				<img src="/image/blog/2024/Sept/smoketest.png" alt="Smoke Test"
					style="display: block; margin-left: auto; margin-right: auto; width: 35%; height: auto;">

					<h3>Solutions Used:</h3>
					
					<p>
						Uptime Robot: <a href="https://dashboard.uptimerobot.com/monitors/796996039">https://dashboard.uptimerobot.com/monitors/796996039</a><br>
						Locust: <a href="https://locust.io">https://locust.io</a><br>
						Lens: <a href="https://github.com/lensapp/lens">lensapp/lens</a><br>
						<br>
						I load test my webpage I built at home with some free tools to make sure I am ready for this site to take off!
					</p>
					
					<p>I am running a nginx webpage in a kubernetes three node cluster. I like track my websites uptime and keep it as high
						as possible. I use UptimeRobot because its free and my current uptime is 99.943%!!! This is way over the top but if
						you havent found out already, when I am interested in something I go all in. One thing I have learned both
						professionally and personally is no matter how small the change you need to validate after the fact.</p>
					
					<img src="/image/blog/2024/Sept/uptime99943.png" alt="Uptime"
						style="display: block; margin-left: auto; margin-right: auto; width: 55%; height: auto;">
					
					<p>
						Build Details:
						K8s Build: <a href="https://github.com/gregheffner/k8-nginx-webpage">GitHub K8 build</a><br>
						NGINX docker Image: docker pull technotuba/nginx:v2 <br>
						Prod URL: <a href="https://greg.heffner.live">https://greg.heffner.live</a>
					</p>
					
					<p>Locust is a open-source load testing tool that is made to test the performance of websites.</p>
					
					<p>I like to test my webpage with 100,000 simulated users with a hatch rate of about 1,000 user bursts. Locust acts like
						a swarm of users and the bursts are the waves of additional people.</p>
					<img src="/image/blog/2024/Sept/locust.png" alt="locust"
						style="display: block; margin-left: auto; margin-right: auto; width: 55%; height: auto;">
					
					<p>Some important definitions</p>
					<ul>
						<li>RPS: Requests per Second</li>
						<li>Failures/s: Number of failed requests per second</li>
						<li>95th percentile: the top traffic response time</li>
						<li>Average response time: the time it takes to load the page on average</li>
						<li>Number of users: Users in the test</li>
					</ul>
					
					<img src="/image/blog/2024/Sept/locust100k.png" alt="Perf test"
						style="display: block; margin-left: auto; margin-right: auto; width: 55%; height: auto;">
					
					<h3>Interpretation:</h3>
					
					<p>I look for three main things when I run my performance tests. When I look into the Requests per Second I look for
						steep dives. These dives for example at around 9:02:49 PM where we see around 800 RPS to about 300 RPS. This could
						point to issues with the pods like over utilization, bottlenecks, or network issues. The opposite spike with a steep
						incline in the response times would be bad as well. The higher the response time the longer it takes for the page to
						load. If you see high response times this could lead to a bad customer experience. Finally I look at Lens while the
						tests are running to make sure my horizontal pod autoscalers are working and to monitor the cluster.</p>
					
					<img src="/image/blog/2024/Sept/lenscluster.png" alt="K8 cluster"
						style="display: block; margin-left: auto; margin-right: auto; width: 55%; height: auto;">

					<p>To wrap up, maintaining a high-performing and reliable website is no small feat, but with the right tools and
					dedication, its certainly achievable. By leveraging Kubernetes for scalability, NGINX for efficient web serving, and
					tools like UptimeRobot and Locust for monitoring and load testing, youve built a robust system ready to handle
					significant traffic.</p>
					
					<h3>Bing AI explaining what Locust is</h3>
					
					<p>What is Locust?</p>
					<p>Imagine you have a toy that can test how strong your other toys are. Locust is like that toy, but for computers and
						websites. Its a tool that helps people see how well a website or app can handle lots of people using it at the same
						time.
						How to Use Locust</p>
					<strong>Pretend Play:</strong> Think of Locust as a game where you pretend to be lots of people visiting a website.<br>
					<strong>Write a Story:</strong> You write a little story (in computer language) about what these people do on the
					website. For example, they might click buttons, fill out forms, or just look around.<br>
					<strong>Start the Game:</strong> You tell Locust to start the game. It will pretend to be all those people and do what
					you wrote in the story.<br>
					<strong>Watch the Fun:</strong> Locust will show you how the website is doing. If the website is slow or has problems,
					Locust will let you know.<br><br>
					Why Use Locust?<br><br>
					Just like testing how strong your toys are, Locust helps people make sure their websites and apps are strong and can
					handle lots of visitors without breaking.
						
				



			</div>
		</div>
		<div class="rightcolumn">
			<div class="card">
				<h3>About Me</h3>
				<p>I served in the U.S. Army, specializing in Network Switching Systems and was attached to a Patriot
					Missile
					System Battalion. After my deployment and Honorable discharge, I went to college in Jacksonville, FL
					for
					Computer Science. I have two beautiful and very intelligent daughters. I have more than 20 years
					professional IT
					experience. This page is made to learn and have
					fun. If
					its messed up, let me know. Im still learning :)</p>
			</div>
						<div class="scrollcard">
							<h3>Recent Blogs</h3>
							<div class="scroll-container">
								<nav>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/travelrouter.html">Travel Router:
											How I stay secure on work trips</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/secrets.html">Secrets: Password
											Managers and Hardware Keys</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/twingate.html">Twingate: Your Key to
											Remote Networks</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/dmrradios.html">DMR Radios: Its
											giving radio-nerd vibes</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/tryhackme.html">TryHackMe: Command Line
											Confessions</a>
									</li>
									<li>
									<a href="https://greg.heffner.live/image/pages/2024/Sept/techimplants.html">Tech Implants: LED and NFC Lighting Up the Future Under Your Skin</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Sept/upstreamdns.html">Upstream DNS Servers: Put the internet to work</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Sept/classsetup.html">Class Setup: My learning tech stack - Learn for Free</a>
									</li>
								</nav>
							</div>
						</div>
			<div class="card">
				<h3>Popular Projects</h3>
				<li><a href="https://github.com/gregheffner/k8-nginx-webpage">Kubernetes cluster build</a></li>
				<li><a href="https://github.com/gregheffner/python-init">CookieCutter Script - A python template</a>
				</li>
				<li><a href="https://github.com/gregheffner/playbooks/tree/main/tasks/">Ansible Kali Docker Build</a>
				</li>
				<li><a href="https://github.com/gregheffner/playbooks/blob/main/tasks/k8reboot.yml">Ansible Kubernetes
						node
						bounce w/NGINX HA</a></li>
			</div>
			<div class="card">
				<h3>Book Board</h3>
				<li><a href="https://www.amazon.com/Phoenix-Project-DevOps-Helping-Business/dp/0988262592">The Phoenix
						Project:
						A Novel about IT, DevOps, and Helping Your Business Win</a></li>
				<li><a href="https://www.amazon.com/Algorithms-to-Live-By-audiobook/dp/B01D24NAL6/">Algorithms to Live
						By: The
						Computer Science of Human Decisions</a></li>
				<li><a href="https://www.ebay.com/itm/144165393633?">Little Lefty</a></li>
				<li><a href="https://www.amazon.com/Anniversary-Paperback-Volumes-Limited-Original/dp/1637990049/">Harry
						Potter</a>
				</li>
			</div>
			<div class="card">
				<h3>Weather Loop </h3>
				<a href="https://radar.weather.gov/ridge/standard/SOUTHEAST_loop.gif">
					<img border="3" src="https://radar.weather.gov/ridge/standard/SOUTHEAST_loop.gif"
						style="border: 1px solid FF0000; width: 300px;">
			</div>
		</div>
	</div>
	</div>
	<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
	<script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js"
		data-cf-settings="f2199bb571cfda9c96d3d8cf-|49" defer></script>
	<script defer
		src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015"
		integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ=="
		data-cf-beacon='{"rayId":"8a0c47bffe7b53f3","r":1,"version":"2024.4.1","token":"58654ca0c624448c9c52f5291ddf5bec"}'
		crossorigin="anonymous"></script>
</body>

</html>
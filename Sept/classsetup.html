<!doctype html>
<html>

<head>
	<script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="6a06e0ff-3af4-42b9-ab66-dd32f9e600e0"
		data-blockingmode="auto" type="text/javascript"></script>
	<!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-SXLQTMF14Q"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag('js', new Date());

		gtag('config', 'G-SXLQTMF14Q');
	</script>
	<!-- Google Tag Manager -->
	<script type="915998925114be6a38098363-text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-MQMRMNL5');</script>
	<!-- End Google Tag Manager -->

	<link rel="apple-touch-icon" sizes="180x180" href="/image/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="/image/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/image/favicon-16x16.png">
	<link rel="manifest" href="/image/site.webmanifest">

	<style>
		* {
			box-sizing: border-box;
		}

		body {
			font-family: 'trebuchet ms', sans-serif;
			padding: 20px;
			background: #4E90BB;
		}

		.header {
			padding: 10px;
			font-size: 20px;
			text-align: center;
			background: white;
		}

		.leftcolumn {
			float: left;
			width: 75%;
			height: 90vh;
			overflow-y: visable;
		}

		.rightcolumn {
			float: left;
			width: 25%;
			padding-left: 20px;
		}

		.img {

			width: 100%;
			padding: 20px;
		}

		.card {
			background-color: white;
			padding: 20px;
			margin-top: 20px;
		}

		.row:after {
			content: "";
			display: table;
			clear: both;
		}

		.footer {
			padding: 20px;
			text-align: center;
			background: #ddd;
			margin-top: 20px;
		}

		@media screen and (max-width: 800px) {

			.leftcolumn,
			.rightcolumn {
				width: 100%;
				padding: 0;
			}
		}

		.navbar {
			display: flex;
			justify-content: flex-end;
			width: 100%;
			background-color: black !important;
			font-family: 'trebuchet ms', sans-serif;
			padding-right: 15px;
			padding-left: 15px;
		}

		.navdiv {
			display: flex;
			align-items: center;
			justify-content: space-between;
		}

		.navbar button {
			background-color: transparent;
			margin-left: 10px;
			border-radius: 10px;
			padding: 10px;
			width: 90px;
		}

		.navbar button a {
			color: transparent;
			font-weight: bold;
			font-size: 15px;
		}

		.navbar li {
			list-style: none;
			display: inline-block;
		}

		.navbar li a {
			color: white;
			font-size: 18px;
			font-weight: bold;
			margin-right: 25px;
			font-family: 'trebuchet ms', sans-serif;
		}

		.navbar button {
			background-color: black;
			margin-left: 10px;
			border-radius: 10px;
			padding: 10px;
			width: 90px;
		}

		.navbar button a {
			color: white;
			font-weight: bold;
			font-size: 15px;
			font-family: 'trebuchet ms', sans-serif;
		}

		.scrollcard {
			height: 200px;
			overflow: hidden;
			position: relative;
			background-color: white;
			padding: 20px;
			margin-top: 20px;
		}

		.scroll-container {
			height: calc(100% - 40px);
			overflow: hidden;
			position: relative;
		}

		.scroll-container nav {
			position: absolute;
			top: 0;
			width: 100%;
			animation: scroll 20s linear infinite;
		}

		@keyframes scroll {
			0% {
				top: 100%;
			}

			100% {
				top: -100%;
			}
		}
	</style>

	<meta name="title" content="Nerdsense - Class Setup - Sept 2024">
	<meta name="description" content="My learning tech stack - Learn for Free">
	<meta name="keywords" content="tryhackme, kali, vm, docker, vpn, openvpn, learning>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="language" content="English">
	<meta http-equiv='content-language' content='en-gb'>
	<meta name="author" content="Greg Heffner">

	<title>Nerdsense - Class Setup - Sept 2024</title>

	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3941951641805897"
		crossorigin="anonymous"></script>

	<script async src="https://fundingchoicesmessages.google.com/i/pub-3941951641805897?ers=1"
		nonce="drPCtL_hPnvLGFPUGtHsFQ" type="915998925114be6a38098363-text/javascript"></script>
	<script nonce="drPCtL_hPnvLGFPUGtHsFQ" type="915998925114be6a38098363-text/javascript"> (function() {
              function signalGooglefcPresent() {
                  if (!window.frames['googlefcPresent']) {
                      if (document.body) {
                          const iframe = document.createElement('iframe');
                          iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;';
                          iframe.style.display = 'none';
                          iframe.name = 'googlefcPresent';
                          document.body.appendChild(iframe);
                      } else {
                          setTimeout(signalGooglefcPresent, 0);
                      }
                  }
              }
              signalGooglefcPresent();
          })();  
          </script>
</head>

<body>
	<!-- Google Tag Manager (noscript) -->
	<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQMRMNL5" height="0" width="0"
			style="display:none;visibility:hidden"></iframe></noscript>
	<!-- End Google Tag Manager (noscript) -->
	<nav class="navbar">
		<div class="navdiv">
			<ul>
				<li><a href="https://greg.heffner.live">Home</a></li>
				<li><a href="https://greg.heffner.live/photos.html">Photos</a></li>
				<li><a href="https://greg.heffner.live/blog.html">Blog</a></li>
				<li><a
						href="https://www.paypal.com/donate/?business=UK9DCMKFRTWRN&no_recurring=0&item_name=Thanks+for+supporting+the+page&currency_code=USD">Support</a>
				<li><a href="https://greg.heffner.live/privacy.html">Privacy Policy</a></li>
				<li><a href="https://greg.heffner.live/cookie.html">Cookie Policy</a></li>
				
				<li><a href="/cdn-cgi/l/email-protection#c1aca0a8afefb1ada0aff4f6f9f281a7a0b2b5aca0a8adefa2aeac">Contact</a>
				<li><a href="https://greg.heffner.live/forum.html">Open Forum</a></li>
			</ul>
		</div>
	</nav>
	<div class="header">
		<h2>Nerdsense</h2>
	</div>
	<div class="row">
		<div class="leftcolumn">
			<div class="card">
				<h1>Class Setup: My learning tech stack - Learn for Free</h1>
				<h5>Greg Heffner September 8, 2024</h5>

				<img src="/image/blog/2024/Sept/classsetup.png" alt="Class Setup"
					style="display: block; margin-left: auto; margin-right: auto; width: 35%; height: auto;">
				<br>
				<i>*** Disclaimers: This is for learning purposes only. I do NOT recommend you 
					keep this docker image running all the time due to the loose security settings I used in a contained environment. 
					I would also recommend you use a VPN when connecting to the
					internet. The account used is "root" and password is "password" and should be changed. There is a mount on my local machine at /home/ansible/mnt/kali and it is mounted to
					the container at /root/scripts/ IF you follow the same build please update the folder location of the local drive instead of /home/ansible/mnt/kali if you want to share files
					between devices***
				</i>
				<p><a href="https://greg.heffner.live/image/pages/2024/Aug/tryhackme.html">In previous blogs</a> I talked about how much I like <a href="https://tryhackme.com/dashboard">TryHackMe.com</a>. In this blog Im going to show you how I setup my Kali
					machine and what scripts I run when starting some of the <a href="https://www.youtube.com/watch?v=eAJc6IVmSRg">Capture the Flag exercises</a>. There are a couple of ways
					someone can utilize a a Kali machine. I have both a full VM running on a ESXi node and also a Kali docker image I
					have recently used and kinda like it. I would recommend <a href=" https://gitlab.com/kalilinux/kali-purple/documentation/-/wikis/home">Kali Purple</a> if you want to use a VM on your own. In this
					write up I am going to highlight the Kali docker image I have built. </p>
			
				
				<h3>Setup:</h3>
					<img src="/image/blog/2024/Sept/kalirdp.jpeg" alt="RDP Session"
						style="display: block; margin-left: auto; margin-right: auto; width: 65%; height: auto;">
				<p>First I will say this image is HUGE. Like 30+ GB. The reason for this is I have the full package and all its contents
					included so no need for updates once downloaded. Here is the DockerHub repo with the image
					https://hub.docker.com/repositories/technotuba. I save all of my scripts locally in a file located in my
					/home/ansible/mnt directory. In this playbook I mount this location to the Kali Container for file storage. </p>
				
				<p>I use a mixture of <a href="https://github.com/gregheffner/playbooks/tree/main/tasks">ansible tasks</a> and bash
					aliases to setup my environment. </p>
				<p>When I run the "BuildKali" alias as described in the <a
						href="https://github.com/gregheffner/playbooks/blob/main/tasks/README.md">readme file</a>, this
					'ansible-playbook ~/playbooks/tasks/kaliDockerBuild.yml' command is run on my local machine. This will pull down the
					kali full image, start and run the container, creates and starts a RDP service on port 3389. Once the playbook is
					done you will get a play recap and you should expect to see passing and updated changes. From here you can assume
					the container is running and jump right to trying to RDP to the IP address of the container but I would recommend
					you run "docker ps" to verify it is running and its port is being forwarded. Once you have verified open your
					favorite RDP application and log into the container with the IP and port number.</p>
				
				<figure>
					<img src="/image/blog/2024/Sept/dockerps.png" alt="docker ps"
						style="display: block; margin-left: auto; margin-right: auto; width: 75%; height: auto;">
					<figcaption style="text-align:center;">This is an image of docker ps being run on a ubuntu vm showing the kali_container is running locally "0.0.0.0" and
					the port is being forwarded from 3390 to 3389 and for use outside the container.
					</figcaption>
				</figure>

				<p>Open the browser at the bottom search bar and log into <a href="https://tryhackme.com/r/access">TryHackMe Access
						Page</a> and download the machine config file for the server location closest to you. Open your terminal and run
					sudo openvpn "and then your config file name" to connect to the TryHackMe VPN. This will allow you to run commands
					locally from your machine in their labs. </p>
					<img src="/image/blog/2024/Sept/tryhackmeVPN.png" alt="VPN"
						style="display: block; margin-left: auto; margin-right: auto; width: 45%; height: auto;">
				

				<h3>Course Selection and Starting:</h3>

				<p>In my Kali container, in my scripts folder, I have a TryHackMe folder I use to keep all of my school stuff together.
					This is where I clone the <a href="https://github.com/gregheffner/new-class">NewClass</a> scripts that I run for
					each new class. </p>
				
					<img src="/image/blog/2024/Sept/kalifolders.png" alt="Kali Folders"
						style="display: block; margin-left: auto; margin-right: auto; width: 55%; height: auto;">
					<br><br>
				<a href="https://github.com/gregheffner/new-class/blob/master/src/newclass.py">newclass.py</a> <br>
				ip = input("Please enter an IP address: ")<br>
				className = input("Please enter the class name: ")<br>
				os.chdir("/home/kali/Documents/TryHackMe")<br>
				os.mkdir(className)<br>
				os.chdir(className)<br>
				# nmap scan the ip<br>
				os.system("nmap -sC -sV -Pn " + ip + " --stats-every 30s > nmap_results.txt")<br>
				# nikto scan the ip<br>
				os.system("nikto -h " + ip + " > nikto_results.txt")<br>
				<br>
				<p>This script asks you for the IP address of the machine you are trying to access, and the class name that you are
					taking. Once you put in those values a new folder with the class name will be created and you will be moved into
					that folder. A nmap and then a nikto scan is run against the IP that was given and their results are put into their
					corresponding text files. I found myself running these commands often enough to let them go each time. Feel free to
					edit and update with commands you like to run. Wanna learn more about those commands I run and why I run them. Join TryHackMe.com and check it out!</p>
				
				<h3>Completing:</h3>
				
				<p>Since the files and folders we created are inside a mount on our local machine, we can be sure that when we save and
					exit our work we can access it even if the container is not available. I close all of my windows and terminals
					making sure to close the OpenVpn connection to tryhackme. Once I have logged out of the RDP session I will go to my
					local terminal and run KillKali which will shutdown and close all connections and services related to my Kali
					container and stop the container itself.</p>

					<p>Please leave some feedback in the <a href="https://greg.heffner.live/forum.html">Open Forum link</a> either here or in the top right
						navigation bar link. 
					Im trying to test ways to interact with my audience and give a place for feedback. I would LOVE to see some scripts you like to use when 
				you do your own CTFs or training courses.</p>
			</div>
		</div>
		<div class="rightcolumn">
			<div class="card">
				<h3>About Me</h3>
				<p>I served in the U.S. Army, specializing in Network Switching Systems and was attached to a Patriot
					Missile
					System Battalion. After my deployment and Honorable discharge, I went to college in Jacksonville, FL
					for
					Computer Science. I have two beautiful and very intelligent daughters. I have more than 20 years
					professional IT
					experience. This page is made to learn and have
					fun. If
					its messed up, let me know. Im still learning :)</p>
			</div>
						<div class="scrollcard">
							<h3>Recent Blogs</h3>
							<div class="scroll-container">
								<nav>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/dockerupdate.html">Docker Updates: 4
											steps to secure your images</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/travelrouter.html">Travel Router:
											How I stay secure on work trips</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/secrets.html">Secrets: Password
											Managers and Hardware Keys</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/twingate.html">Twingate: Your Key to
											Remote Networks</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/dmrradios.html">DMR Radios: Its
											giving radio-nerd vibes</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Aug/tryhackme.html">TryHackMe: Command Line
											Confessions</a>
									</li>
									<li>
									<a href="https://greg.heffner.live/image/pages/2024/Sept/techimplants.html">Tech Implants: LED and NFC Lighting Up the Future Under Your Skin</a>
									</li>
									<li>
										<a href="https://greg.heffner.live/image/pages/2024/Sept/upstreamdns.html">Upstream DNS Servers: Put the internet to work</a>
									</li>
								</nav>
							</div>
						</div>
			<div class="card">
				<h3>Popular Projects</h3>
				<li><a href="https://github.com/gregheffner/k8-nginx-webpage">Kubernetes cluster build</a></li>
				<li><a href="https://github.com/gregheffner/python-init">CookieCutter Script - A python template</a>
				</li>
				<li><a href="https://github.com/gregheffner/playbooks/tree/main/tasks/">Ansible Kali Docker Build</a>
				</li>
				<li><a href="https://github.com/gregheffner/playbooks/blob/main/tasks/k8reboot.yml">Ansible Kubernetes
						node
						bounce w/NGINX HA</a></li>
			</div>
			<div class="card">
				<h3>Book Board</h3>
				<li><a href="https://www.amazon.com/Phoenix-Project-DevOps-Helping-Business/dp/0988262592">The Phoenix
						Project:
						A Novel about IT, DevOps, and Helping Your Business Win</a></li>
				<li><a href="https://www.amazon.com/Algorithms-to-Live-By-audiobook/dp/B01D24NAL6/">Algorithms to Live
						By: The
						Computer Science of Human Decisions</a></li>
				<li><a href="https://www.ebay.com/itm/144165393633?">Little Lefty</a></li>
				<li><a href="https://www.amazon.com/Anniversary-Paperback-Volumes-Limited-Original/dp/1637990049/">Harry
						Potter</a>
				</li>
			</div>
			<div class="card">
				<h3>Weather Loop </h3>
				<a href="https://radar.weather.gov/ridge/standard/SOUTHEAST_loop.gif">
					<img border="3" src="https://radar.weather.gov/ridge/standard/SOUTHEAST_loop.gif"
						style="border: 1px solid FF0000; width: 300px;">
			</div>
		</div>
	</div>
	</div>
	<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
	<script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js"
		data-cf-settings="f2199bb571cfda9c96d3d8cf-|49" defer></script>
	<script defer
		src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015"
		integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ=="
		data-cf-beacon='{"rayId":"8a0c47bffe7b53f3","r":1,"version":"2024.4.1","token":"58654ca0c624448c9c52f5291ddf5bec"}'
		crossorigin="anonymous"></script>
</body>

</html>
<!doctype html>
<html>

<head>
  <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="6a06e0ff-3af4-42b9-ab66-dd32f9e600e0"
    data-blockingmode="auto" type="text/javascript"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SXLQTMF14Q"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag('js', new Date());

      gtag('config', 'G-SXLQTMF14Q');
    </script>
  <!-- Google Tag Manager -->
  <script type="915998925114be6a38098363-text/javascript">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
                j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
                'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
                })(window,document,'script','dataLayer','GTM-MQMRMNL5');</script>
  <!-- End Google Tag Manager -->

  <link rel="apple-touch-icon" sizes="180x180" href="/image/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/image/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/image/favicon-16x16.png">
  <link rel="manifest" href="/image/site.webmanifest">

    <style>

        * {
            box-sizing: border-box;
        }
        body {
            font-family: 'trebuchet ms', sans-serif;
            padding: 20px;
            background: #4E90BB;
        }
        .header {
            padding: 10px;
            font-size: 20px;
            text-align: center;
            background: white;
        }
        .leftcolumn {
            float: left;
            width: 75%;
            height: 90vh;
            overflow-y: visable;
        }
        .rightcolumn {
            float: left;
            width: 25%;
            padding-left: 20px;
        }
        .img {
            background-color: #aaa;
            width: 100%;
            padding: 20px;
        }
        .card {
            background-color: white;
            padding: 20px;
            margin-top: 20px;
        }
        .row:after {
            content: "";
            display: table;
            clear: both;
        }
        .footer {
            padding: 20px;
            text-align: center;
            background: #ddd;
            margin-top: 20px;
        }
        @media screen and (max-width: 800px) {
            .leftcolumn, .rightcolumn {
                width: 100%;
                padding: 0;
            }
        }
        .navbar {
          display: flex;
          justify-content: flex-end;
          width: 100%;
          background-color: black !important;
          font-family: 'trebuchet ms', sans-serif;
          padding-right: 15px;
          padding-left: 15px;
        }

        .navdiv {
          display: flex;
          align-items: center;
          justify-content: space-between;
        }

        .navbar button {
          background-color: transparent;
          margin-left: 10px;
          border-radius: 10px;
          padding: 10px;
          width: 90px;
        }

        .navbar button a {
          color: transparent;
          font-weight: bold;
          font-size: 15px;
        }

        .navbar li {
          list-style: none;
          display: inline-block;
        }

        .navbar li a {
          color: white;
          font-size: 18px;
          font-weight: bold;
          margin-right: 25px;
          font-family: 'trebuchet ms', sans-serif;
        }

        .navbar button {
          background-color: black;
          margin-left: 10px;
          border-radius: 10px;
          padding: 10px;
          width: 90px;
        }

        .navbar button a {
          color: white;
          font-weight: bold;
          font-size: 15px;
          font-family: 'trebuchet ms', sans-serif;


    
    </style>

  <meta name="title" content="Nerdsense - Loadbalancing - July 2024">
  <meta name="description" content="Boots & cats & - A fun one">
  <meta name="keywords" content="blog, tech, writeups">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="language" content="English">
  <meta http-equiv='content-language' content='en-gb'>
  <meta name="author" content="Greg Heffner">
  
  <title>Nerdsense - Loadbalancing - July 2024</title>
  
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3941951641805897"
    crossorigin="anonymous"></script>
  
  <script async src="https://fundingchoicesmessages.google.com/i/pub-3941951641805897?ers=1"
    nonce="drPCtL_hPnvLGFPUGtHsFQ" type="915998925114be6a38098363-text/javascript"></script>
  <script nonce="drPCtL_hPnvLGFPUGtHsFQ" type="915998925114be6a38098363-text/javascript"> (function() {
              function signalGooglefcPresent() {
                  if (!window.frames['googlefcPresent']) {
                      if (document.body) {
                          const iframe = document.createElement('iframe');
                          iframe.style = 'width: 0; height: 0; border: none; z-index: -1000; left: -1000px; top: -1000px;';
                          iframe.style.display = 'none';
                          iframe.name = 'googlefcPresent';
                          document.body.appendChild(iframe);
                      } else {
                          setTimeout(signalGooglefcPresent, 0);
                      }
                  }
              }
              signalGooglefcPresent();
          })();  
          </script>
</head>

<body>
  <!-- Google Tag Manager (noscript) -->
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MQMRMNL5" height="0" width="0"
      style="display:none;visibility:hidden"></iframe></noscript>
  <!-- End Google Tag Manager (noscript) -->
  <nav class="navbar">
    <div class="navdiv">
      <ul>
        <li><a href="https://greg.heffner.live">Home</a></li>
        <li><a href="https://greg.heffner.live/photos.html">Photos</a></li>
        <li><a href="https://greg.heffner.live/blog.html">Blog</a></li>
        <li><a
            href="https://www.paypal.com/donate/?business=UK9DCMKFRTWRN&no_recurring=0&item_name=Thanks+for+supporting+the+page&currency_code=USD">Support</a>
        <li><a href="https://greg.heffner.live/privacy.html">Privacy Policy</a></li>
        <li><a href="https://greg.heffner.live/cookie.html">Cookie Policy</a></li>
        <li><a href="/cdn-cgi/l/email-protection#c1aca0a8afefb1ada0aff4f6f9f281a7a0b2b5aca0a8adefa2aeac">Contact</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="header">
    <h2>Nerdsense</h2>
  </div>

  <div class="row">
    <div class="leftcolumn">
      <div class="card">
                          <h1>Loadbalancing: Boots & cats &</h1>
                          <h5>Greg Heffner July 14, 2024</h5>
                            <div class="img" style="height:200px; display: flex; justify-content: center; align-items: center;">
                              <img src="/image/blog/2024/July/LB.png" alt="Load Balancing" style="width:15%; height: 200px; object-fit:cover;">
                            </div>
                          <p>Loadbalancers are probably what you expect them to be if you had no idea what they did. They take a load and balance it.
                          What does that mean for us? Well a few things. It enables us to route traffic more efficiently, allows us to enable high
                          availability, and another example would be that loadbalancing enables health monitoring.
                          
                          When you get on the internet and go to a major webpage most likely you have used a loadbalancer in your route to it. I
                          would imagine you could have hit multiple loadbalancers to get there. Really depends on the service youre connecting to
                          and how it is built. In previous blogs we have talked about DNS and how you take a name and convert it to an IP address
                          to get to a webpage. Well loadbalancing allows us to put multiple devices behind that one IP address or a range of
                          addresses.</p>
                          
                          <p>Think of it like this. You have an in person event lets say <a href="https://greg.heffner.live">greg.heffner.live</a> Presents <a href="https://www.youtube.com/watch?v=Nni0rTLg5B8"> Odourles Aunt</a>, 
                            a concert with a live band in town! You want to make sure that it is easy for the guests to get in from the street to the show floor. 
                            You setup multiple ticket booths to let people in the quickest rather than just the one booth. The way the guest traffic is routed to devices (ticket booths) is explained in two major categories, Dynamic or Static
                          loadbalancing. The rules that are followed to route traffic are called algorithms. I am going to explain the most
                          used algorithm in each category.</p>
                          
                          <p>Dynamic loadbalancing algorithms consist of Least Connection, Weighted Least Connection, Weighted Responce Time, and
                          Resource-Based rules. Key word here is dynamic. Notice all of these rules are based off of things that change often on a
                          device. Number of connections, response time of the device, or the amount of available resources on the device.</p>
                          
                          <p>Static Loadbalancing consists of algorithms like Round Robin, and IP Hash. Static is the key word here. These rules are
                          written to be followed irreguardless of any of the dynamic resources we talked about earlier in dynamic loadbalancing. When youre next in line its your turn.
                          An IP hash is another way of saying a specific address or key that a backend server can use to route to the correct home
                          device key pair. Think of Gates at a concert. If you are in Section B they may want all guests of that section to go to a specific ticket booth.</p>

                          <h3>Round Robbin Static:</h3>
                                    <figure>
                                        <img src="/image/blog/2024/July/RR-LB.png" alt="Round Robin Load Balancing"
                                            style="display: block; margin-left: auto; margin-right: auto; width: 50%; height: auto;">
                                        <figcaption style="text-align:center;">From <a href="https://www.f5.com/company/blog/nginx/nginx-power-of-two-choices-load-balancing-algorithm">F5 Networks page</a> an example of Round Robin LoadBalancing. Notice one line in, and splitting the traffic between multiple queues.
                                        </figcaption>
                                    </figure>

                          <p>Round Robin loadbalancing will send traffic to one device after the other. If you have 3 ticket
                          booths behind a gate as shown in this example when the guests start arriving the guests will be sent to one booth after the other, in a round robin fashion. The loadbalancing algorithm does not care how many people
                          are already in the line at the booth, nor does it care about amount of work the ticket booth has already done
                          or is about to do. The loadbalancer will send traffic from one host to another one after the other as long as someone is there.</p> 

                          <h3>Least connection dynamic:</h3>
                                                            <figure>
                                                                <img src="/image/blog/2024/July/LC-LB.png" alt="Round Robin Load Balancing"
                                                                    style="display: block; margin-left: auto; margin-right: auto; width: 50%; height: auto;">
                                                                <figcaption style="text-align:center;">Also from <a href="https://www.f5.com/company/blog/nginx/nginx-power-of-two-choices-load-balancing-algorithm">F5 Networks page</a> a great example of Least Connection LoadBalancing. One line in but sending traffic to the shortest queue.
                                                                </figcaption>
                                                            </figure>

                        <p>Least connection loadbalancing is a little more robust because there is a extra step taken that will see how many
                        connections are active on a device before sending traffic to it. This type of loadbalancing is the type the guests would
                        prefer as they are entering the concert. Instead of going to the next booth in line like round robin the guests will go to 
                        the booths with the least number of total people or fastest most efficient ticket clicker person. This may or may not be the same booth as the person in front of you. Depends on the dynamics of the situation.</p>

                        <p>As you can probably tell both solutions are successful. The loadbalancing type is usually easy to figure out when you focus on the 
                          traffic and your traffic obligations. A major video streaming service's loadbalancers may want to use IP Hash loadbalancing. This could send certain users, depending on geolocation of the IP address, to the closest hosting server to them in the world. 
                          Or a major social media platform may want to use Round Robin loadbalancing to make sure all users get to their servers, irreguarless of server resource usage. We use loadbalancers everyday wether you know it or not. Lets just hope they dont have major <a href="https://www.pingdom.com/outages/internet-outages-the-12-most-impactful/">outages</a> that could affect all the internet. </p>
                        
                        <p><h3>P.S.</h3>Dont blame me the next time you go to a concert and think of loadbalancing, just hope their lines are dynamic and not static.</p>

      </div>
    </div>
    <div class="rightcolumn">    
                    <div class="card">
                    <h3>About Me</h3>
                    <p>I served in the U.S. Army, specializing in Network Switching Systems and was attached to a Patriot
                      Missile
                      System Battalion. After my deployment and Honorable discharge, I went to college in Jacksonville, FL
                      for
                      Computer Science. I have two beautiful and very intelligent daughters. I have more than 20 years professional IT
                      experience. This page is made to learn and have
                      fun. If
                      its messed up, let me know. Im still learning :)</p>
                  </div>
                  <div class="card">
                    <h3>Recent Blogs</h3>
                    <nav>
                      <li><a href="https://greg.heffner.live/image/pages/initial.html">Beginners Journey: Greg Starts His Blog</a></li>
                      <li><a href="https://greg.heffner.live/image/pages/2024/July/Pi-Hole.html">Pi-hole: What is it and why you might want
                          to use it</a></li>
                      <li><a href="https://greg.heffner.live/image/pages/2024/July/GitHub.html">Github: Whats the fuss about?</a> </li>
                    </nav>
                  </div>
                  <div class="card">
                    <h3>Popular Projects</h3>
                    <li><a href="https://github.com/gregheffner/k8-nginx-webpage">Kubernetes cluster build</a></li>
                    <li><a href="https://github.com/gregheffner/python-init">CookieCutter Script - A python template</a>
                    </li>
                    <li><a href="https://github.com/gregheffner/playbooks/tree/main/tasks/">Ansible Kali Docker Build</a></li>
                    <li><a href="https://github.com/gregheffner/playbooks/blob/main/tasks/k8reboot.yml">Ansible Kubernetes node
                        bounce w/NGINX HA</a></li>
                  </div>
                  <div class="card">
                    <h3>Book Board</h3>
                    <li><a href="https://www.amazon.com/Phoenix-Project-DevOps-Helping-Business/dp/0988262592">The Phoenix
                        Project:
                        A Novel about IT, DevOps, and Helping Your Business Win</a></li>
                    <li><a href="https://www.amazon.com/Algorithms-to-Live-By-audiobook/dp/B01D24NAL6/">Algorithms to Live
                        By: The
                        Computer Science of Human Decisions</a></li>
                    <li><a href="https://www.ebay.com/itm/144165393633?">Little Lefty</a></li>
                    <li><a href="https://www.amazon.com/Anniversary-Paperback-Volumes-Limited-Original/dp/1637990049/">Harry Potter</a>
                    </li>
                  </div>
                  <div class="card">
                    <h3>Weather Loop </h3>
                    <a href="https://radar.weather.gov/ridge/standard/SOUTHEAST_loop.gif" alt="Weather Loop">
                      <img border="3" src="https://radar.weather.gov/ridge/standard/SOUTHEAST_loop.gif"
                        style="border: 1px solid FF0000; width: 300px;">
      </div>
    </div>
  </div>
  </div>
  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
  <script src="/cdn-cgi/scripts/7d0fa10a/cloudflare-static/rocket-loader.min.js"
    data-cf-settings="f2199bb571cfda9c96d3d8cf-|49" defer></script>
  <script defer src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015"
    integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ=="
    data-cf-beacon='{"rayId":"8a0c47bffe7b53f3","r":1,"version":"2024.4.1","token":"58654ca0c624448c9c52f5291ddf5bec"}'
    crossorigin="anonymous"></script>
</body>

</html>